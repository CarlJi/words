<?xml version="1.0" standalone="no"?><?xml-stylesheet type="text/css" href="https://www.processon.com/themes/default/mind/icons/icons.css" ?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" id="mind-svg-con" version="1.1" width="2022.09375px" height="3916px" style="position: absolute; left: 0px; top: 0px; width: 2022.09375px; height: 3916px; background-color: rgb(255, 255, 255); z-index: 999;"><defs></defs><g id="svgbackgroundid"><defs></defs><rect x="0" y="0" width="2022.09375" height="3916" fill="#ffffff"></rect></g><g transform="translate(-9861, -8042)" id="sdjakdjak9"><defs></defs><g class="svg-topic-con" transform="translate(0.5,0.5)"><path part="right" sub="true" id="line_32ab6a28625f" d="M 10000 10000 L 10139 10000 L 10139 8147 A 8 8 0 0 1 10147 8139 L 10169 8139" stroke="#EDB951" fill="none" stroke-width="2"></path><path part="right" sub="true" id="line_b0d629516b24" d="M 10000 10000 L 10139 10000 L 10139 8312 A 8 8 0 0 1 10147 8304 L 10169 8304" stroke="#EDB951" fill="none" stroke-width="2"></path><path part="right" sub="true" id="line_50d958360c52" d="M 10000 10000 L 10139 10000 L 10139 9886 A 8 8 0 0 1 10147 9878 L 10169 9878" stroke="#EDB951" fill="none" stroke-width="2"></path><path part="right" sub="true" id="line_5ff6c678664c" d="M 10000 10000 L 10139 10000 L 10139 11464 A 8 8 0 0 0 10147 11472 L 10169 11472" stroke="#EDB951" fill="none" stroke-width="2"></path><path part="right" sub="true" id="line_44ab9a62274e" d="M 10000 10000 L 10139 10000 L 10139 11600 A 8 8 0 0 0 10147 11608 L 10169 11608" stroke="#EDB951" fill="none" stroke-width="2"></path><path part="right" sub="true" id="line_33e0583e8df4" d="M 10000 10000 L 10139 10000 L 10139 11662 A 8 8 0 0 0 10147 11670 L 10169 11670" stroke="#EDB951" fill="none" stroke-width="2"></path><path part="right" sub="true" id="line_a22fc8f2c6e8" d="M 10000 10000 L 10139 10000 L 10139 11735 A 8 8 0 0 0 10147 11743 L 10169 11743" stroke="#EDB951" fill="none" stroke-width="2"></path><path part="right" sub="true" id="line_e1137d9d712d" d="M 10000 10000 L 10139 10000 L 10139 11853 A 8 8 0 0 0 10147 11861 L 10169 11861" stroke="#EDB951" fill="none" stroke-width="2"></path></g><g class="svg-connection-con" transform="translate(0.5,0.5)"></g><g class="svg-freesums-con" transform="translate(0.5,0.5)"></g><g class="svg-freebos-con" transform="translate(0.5,0.5)"></g></g><g id="e1137d9d712d"><rect x="308" y="3801.140625" rx="5px" ry="5px" width="80" height="37" style="fill: #2B76EF; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="14px" font-weight="normal" fill="rgb(255, 255, 255)" style="font-size:14px;font-family:微软雅黑;color:#ffffff;font-style:normal;text-align:left;font-weight:normal;"><tspan x="320" y="3824.940625"><tspan>参考资料</tspan></tspan></text></g></g><g id="636105f3f5c8"><rect x="424" y="3752" rx="1px" ry="1px" width="507" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="433" y="3768.4399999999996"><tspan>强力推荐, 张磊的深入理解Kubernetes:  https://time.geekbang.org/column/article/64948</tspan></tspan></text></g></g><g id="e7750890327a"><rect x="424" y="3788" rx="1px" ry="1px" width="681" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="433" y="3804.4399999999996"><tspan>Dinesh Kumar Ramasamy 的: https://dramasamy.medium.com/life-of-a-packet-in-kubernetes-part-1-f9bc0909e051</tspan></tspan></text></g></g><g id="5aa2302b3f32"><rect x="424" y="3824" rx="1px" ry="1px" width="657" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="433" y="3840.4399999999996"><tspan>华为的VXLan文档: https://support.huawei.com/enterprise/zh/doc/EDOC1100087027#ZH-CN_TOPIC_0254803605</tspan></tspan></text></g></g><g id="0ae4993cec98"><rect x="424" y="3860" rx="1px" ry="1px" width="771" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="433" y="3876.4399999999996"><tspan>朱双印的Iptables系列教程: https://www.zsythink.net/archives/category/%e8%bf%90%e7%bb%b4%e7%9b%b8%e5%85%b3/iptables</tspan></tspan></text></g></g><g id="5ff6c678664c"><rect x="308" y="3410.140625" rx="5px" ry="5px" width="206" height="39" style="fill: #2B76EF; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="14px" font-weight="normal" fill="rgb(255, 255, 255)" style="font-size:14px;font-family:微软雅黑;color:#ffffff;font-style:normal;text-align:left;font-weight:normal;"><tspan x="345.09375" y="3435.83125"><tspan>Service与Pod之间的通信</tspan></tspan></text></g><g><g transform="translate(320, 3417.140625) scale(0.01953125)" fill="rgb(51, 51, 51)"><path d="M558.566802 596.409102 558.566802 366.465197 395.564932 596.409102Z"></path><path d="M512.036126 4.262904c-280.448474 0-507.75516 227.324749-507.75516 507.773223 0 280.412348 227.306685 507.75516 507.75516 507.75516 280.430411 0 507.737096-227.342812 507.737096-507.75516C1019.773223 231.587652 792.466537 4.262904 512.036126 4.262904zM683.726371 645.902134l-69.850203 0 0 110.60067-55.309367 0 0-110.60067L334.439231 645.902134l0-49.493032 235.76024-340.544576 43.658635 0 0 340.544576 69.850203 0L683.708308 645.902134z"></path></g></g></g><g id="e0d9fe15c6eb"><rect x="549.984375" y="3380.140625" rx="1px" ry="1px" width="287" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="558.984375" y="3396.5806249999996"><tspan>Service的主要作用在于服务发现与负载均衡, 主要</tspan></tspan><tspan x="558.984375" y="3414.8206249999994"><tspan>由Kube-Proxy组件加上iptables规则来共同实现</tspan></tspan></text></g></g><g id="bac4fb4d549c"><rect x="872.984375" y="3389.640625" rx="1px" ry="1px" width="222" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="881.984375" y="3406.0806249999996"><tspan>Q: Iptables规则太多影响性能怎么办？</tspan></tspan></text></g></g><g id="84c28f4358f6"><rect x="1130.78125" y="3333" rx="1px" ry="1px" width="156" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1139.78125" y="3349.4399999999996"><tspan>kube-proxy开启IPVS模式</tspan></tspan></text></g></g><g id="92d54d4780da"><rect x="1323.109375" y="3333.640625" rx="1px" ry="1px" width="116" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1332.109375" y="3350.0806249999996"><tspan>命令: ipvsadm -ln</tspan></tspan></text></g></g><g id="5f2f91daaa04"><rect x="1130.78125" y="3369" rx="1px" ry="1px" width="463" height="102" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1139.78125" y="3385.4399999999996"><tspan>当创建了Service 之后，kube-proxy 首先会在宿主机上创建一个虚拟网卡（叫作：k</tspan></tspan><tspan x="1139.78125" y="3403.6799999999994"><tspan>ube-ipvs0），并为它分配 Service VIP 作为 IP 地址, IPVS 模块只负责上述的负载</tspan></tspan><tspan x="1139.78125" y="3421.919999999999"><tspan>均衡和代理功能. 而一个完整的 Service 流程正常工作所需要的包过滤、SNAT 等操</tspan></tspan><tspan x="1139.78125" y="3440.159999999999"><tspan>作，还是要靠 iptables 来实现。只不过，这些辅助性的 iptables 规则数量有限，也</tspan></tspan><tspan x="1139.78125" y="3458.3999999999987"><tspan>不会随着 Pod 数量的增加而增加</tspan></tspan></text></g></g><g id="48bc1e1ab9ef"><rect x="549.984375" y="3481" rx="1px" ry="1px" width="310" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="558.984375" y="3497.4399999999996"><tspan>kube-dns也会为每个Service生成DNS记录，也可以作</tspan></tspan><tspan x="558.984375" y="3515.6799999999994"><tspan>为访问入口</tspan></tspan></text></g></g><g id="44ab9a62274e"><rect x="308" y="3546" rx="5px" ry="5px" width="209" height="39" style="fill: #2B76EF; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="14px" font-weight="normal" fill="rgb(255, 255, 255)" style="font-size:14px;font-family:微软雅黑;color:#ffffff;font-style:normal;text-align:left;font-weight:normal;"><tspan x="345.09375" y="3571.690625"><tspan>外部与Service之间的通信</tspan></tspan></text></g><g><path d="M512.036126 4.262904c-280.448474 0-507.75516 227.360875-507.75516 507.773223 0 280.448474 227.306685 507.75516 507.75516 507.75516 280.430411 0 507.737096-227.306685 507.737096-507.75516C1019.773223 231.623778 792.466537 4.262904 512.036126 4.262904zM656.071688 599.371459c-1.011536 21.38677-5.364756 43.225119-13.113847 65.47892-7.785218 22.326054-19.417887 40.750467-34.934133 55.32743-15.552373 14.540836-34.464491 26.173505-56.772482 34.934133-22.326054 8.706439-48.011854 12.138437-77.111589 10.187617-29.117799-1.896631-56.772482-12.590016-82.96405-32.025966-26.191568-19.363697-44.164403-52.383136-53.846252-98.968001l52.383136-14.576962c13.565426 52.419263 36.848827 81.537061 69.868266 87.353396 32.96525 5.816334 59.662586 2.438525 80.019757-10.187617 20.375234-12.590016 34.952196-29.099735 43.676698-49.493032 8.724502-20.357171 12.590016-43.152866 11.650732-68.405151-1.011536-25.198095-7.785218-46.566802-20.375234-64.015805-12.644205-17.467067-28.66622-29.099735-48.029917-34.934133-19.417887-5.816334-41.256236-5.816334-65.47892 0-24.294937 5.816334-44.14634 19.417887-59.680649 40.750467l-49.474969-5.816334c3.865514-11.650732 22.271865-95.066361 55.309367-250.319139l229.943905 0 0 52.383136L450.874299 317.044417c-9.736038 52.383136-19.417887 94.14514-29.117799 125.177633 29.117799-13.565426 56.266714-19.887529 81.518998-18.930182 25.180032 1.011536 49.474969 6.827871 72.75837 17.467067 23.283401 10.693385 40.262762 25.234221 50.938084 43.658635 10.639196 18.46054 18.424413 36.884953 23.283401 55.32743C655.078215 558.151349 657.029035 578.020815 656.071688 599.371459z" fill="rgb(48, 191, 191)" transform="translate(320, 3550) scale(0.01953125)"></path></g></g><g id="a79a5f34de2e"><rect x="552.59375" y="3552.640625" rx="1px" ry="1px" width="122" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="561.59375" y="3569.0806249999996"><tspan>Ingress 做反向代理</tspan></tspan></text></g></g><g id="33e0583e8df4"><rect x="308" y="3609.140625" rx="5px" ry="5px" width="151" height="37" style="fill: #2B76EF; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="14px" font-weight="normal" fill="rgb(255, 255, 255)" style="font-size:14px;font-family:微软雅黑;color:#ffffff;font-style:normal;text-align:left;font-weight:normal;"><tspan x="320" y="3632.940625"><tspan>Q: CNI的设计思想？</tspan></tspan></text></g></g><g id="8de6f2bd0995"><rect x="494.6875" y="3605" rx="1px" ry="1px" width="489" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="503.6875" y="3621.4399999999996"><tspan>Kubernetes 在启动 Infra 容器之后，就可以直接调用 CNI 网络插件，为这个 Infra 容器</tspan></tspan><tspan x="503.6875" y="3639.6799999999994"><tspan>的 Network Namespace，配置符合预期的网络栈。</tspan></tspan></text></g></g><g id="a22fc8f2c6e8"><rect x="308" y="3683.140625" rx="5px" ry="5px" width="257" height="37" style="fill: #2B76EF; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="14px" font-weight="normal" fill="rgb(255, 255, 255)" style="font-size:14px;font-family:微软雅黑;color:#ffffff;font-style:normal;text-align:left;font-weight:normal;"><tspan x="320" y="3706.940625"><tspan>Q: Kubernetes里怎么实现网络隔离？</tspan></tspan></text></g></g><g id="55e8cbf03ffa"><rect x="601.09375" y="3670" rx="1px" ry="1px" width="239" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="610.09375" y="3686.4399999999996"><tspan>基于NetworkPolicy的Soft multi-tenancy</tspan></tspan></text></g></g><g id="fa5b5f437456"><rect x="875.90625" y="3670.640625" rx="1px" ry="1px" width="182" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="884.90625" y="3687.0806249999996"><tspan>本质是通过iptables规则来限制</tspan></tspan></text></g></g><g id="59e02fe46509"><rect x="601.09375" y="3706" rx="1px" ry="1px" width="130" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="610.09375" y="3722.4399999999996"><tspan>Q: 有没有其他方式？</tspan></tspan></text></g></g><g id="17a1c1e8678a"><rect x="767.46875" y="3706.640625" rx="1px" ry="1px" width="150" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="776.46875" y="3723.0806249999996"><tspan>那就是租户隔离的话题了</tspan></tspan></text></g></g><g id="50d958360c52"><rect x="308" y="1817.140625" rx="5px" ry="5px" width="184" height="39" style="fill: #2B76EF; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="14px" font-weight="normal" fill="rgb(255, 255, 255)" style="font-size:14px;font-family:微软雅黑;color:#ffffff;font-style:normal;text-align:left;font-weight:normal;"><tspan x="345.09375" y="1842.8312500000002"><tspan>Pod与Pod之间的通信</tspan></tspan></text></g><g><path d="M512.036126 4.262904c-280.448474 0-507.75516 227.342812-507.75516 507.75516 0 280.412348 227.306685 507.75516 507.75516 507.75516 280.430411 0 507.737096-227.342812 507.737096-507.75516C1019.773223 231.623778 792.466537 4.262904 512.036126 4.262904zM653.163521 638.604622c-4.877051 37.860363-21.838349 68.405151-50.938084 91.688552s-62.119174 34.464491-98.949938 33.489081c-36.884953-0.957347-68.892856-12.590016-96.059834-34.934133-27.185041-22.289928-44.670171-54.803599-52.383136-97.504886l52.383136-8.724502c7.749092 25.234221 20.375234 46.133286 37.8423 62.570753 17.48513 16.50972 39.305415 24.313001 65.496984 23.283401 26.191568-0.957347 47.018381-11.650732 62.570753-31.989839 15.498183-20.393297 22.271865-43.676698 20.375234-69.850203-1.95082-26.209631-12.138437-46.584865-30.562851-61.143764-18.442477-14.558899-48.011854-24.746516-88.762321-30.562851l0-37.8423c40.750467-3.865514 70.301782-14.558899 88.762321-32.025966 18.442477-17.467067 26.66121-40.244699 24.746516-68.405151-1.95082-28.106262-14.558899-48.481496-37.8423-61.125701-23.283401-12.590016-48.029917-14.053131-74.221485-4.371282-26.191568 9.736038-47.054507 36.884953-62.588816 81.500935l-52.383136-8.724502c11.650732-34.934133 27.654683-64.033868 48.029917-87.317269s48.029917-36.848827 82.96405-40.750467c34.91607-3.865514 65.47892 0.487705 91.688552 13.095784 26.191568 12.644205 44.615982 32.007903 55.309367 58.217534 10.639196 26.209631 12.102311 54.857788 4.353219 85.872217-7.785218 31.068619-30.111272 58.217534-66.942036 81.500935 27.148915 11.650732 48.029917 29.099735 62.588816 52.383136C653.163521 570.199471 657.986382 600.798448 653.163521 638.604622z" fill="rgb(255, 175, 56)" transform="translate(320, 1821.140625) scale(0.01953125)"></path></g></g><g id="8272c132c6fd"><rect x="527.890625" y="433.640625" rx="1px" ry="1px" width="124" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="536.890625" y="450.080625"><tspan>同节点上的Pod通信</tspan></tspan></text></g></g><g id="964e64f8d020"><rect x="687.671875" y="359" rx="1px" ry="1px" width="258" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="696.671875" y="375.44"><tspan>Q: 数据包怎么从Network Namespace出来？</tspan></tspan></text></g></g><g id="5b7450d45c37"><rect x="981.6875" y="359.640625" rx="1px" ry="1px" width="181" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="990.6875" y="376.080625"><tspan>关键设备 </tspan><tspan style="fill:rgb(183, 28, 28);">Veth Pair</tspan><tspan>，类似网线</tspan></tspan></text></g></g><g id="1f06ecfc23a1"><rect x="687.671875" y="451.640625" rx="1px" ry="1px" width="330" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="696.671875" y="468.080625"><tspan>Q: 数据包出来后，怎么流入到其他Network Namespace？</tspan></tspan></text></g></g><g id="3d7fad7111b0"><rect x="1053.6875" y="414.640625" rx="1px" ry="1px" width="66" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1062.6875" y="431.080625"><tspan>网桥方式</tspan></tspan></text></g></g><g id="f54b74f6afbf"><rect x="1155.6875" y="395" rx="1px" ry="1px" width="238" height="64" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1164.6875" y="411.44"><tspan>关键设备 </tspan><tspan style="fill:rgb(183, 28, 28);">bridge，虚拟交换机</tspan><tspan>。将不同的</tspan></tspan><tspan x="1164.6875" y="429.68"><tspan>Veth Pair的一端插在bridge上，可以实现</tspan></tspan><tspan x="1164.6875" y="447.92"><tspan>联通</tspan></tspan></text></g></g><g id="cebaf3d98960"><rect x="1053.6875" y="488.640625" rx="1px" ry="1px" width="66" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1062.6875" y="505.080625"><tspan>路由方式</tspan></tspan></text></g></g><g id="35db6aadf687"><rect x="1155.6875" y="469" rx="1px" ry="1px" width="232" height="64" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1164.6875" y="485.44"><tspan>在宿主机上添加路由，类似 </tspan></tspan><tspan x="1164.6875" y="503.68"><tspan style="font-weight:bolder;">·</tspan><tspan>  </tspan><tspan style="font-style:italic;fill:rgb(158, 158, 158);">&lt;podIP&gt; via 0.0.0.0 dev calixxxx</tspan></tspan></text></g></g><g id="e60bb9043dcf"><rect x="527.890625" y="1915.640625" rx="1px" ry="1px" width="136" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="536.890625" y="1932.080625"><tspan>不同节点上的Pod通信</tspan></tspan></text></g></g><g id="4b845dc7ab5d"><rect x="699.671875" y="543" rx="1px" ry="1px" width="94" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="708.671875" y="559.44"><tspan>Q: 难点在哪？</tspan></tspan></text></g></g><g id="a472468f5f62"><rect x="830.046875" y="543.640625" rx="1px" ry="1px" width="592" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="839.046875" y="560.080625"><tspan>关键在于如何知道目标Pod在哪个主机上，以及如何确保整个网络链路能够正确处理这个从容器发出的数据包</tspan></tspan></text></g></g><g id="4b12598098af"><rect x="699.671875" y="1396.640625" rx="1px" ry="1px" width="90" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="708.671875" y="1413.080625"><tspan>三层网络方案</tspan></tspan></text></g></g><g id="552d735b7afe"><rect x="825.671875" y="579" rx="1px" ry="1px" width="242" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="834.671875" y="595.44"><tspan>典型代表Calico 和 Flannel Host-GW模式</tspan></tspan></text></g></g><g id="e577dc7d68b0"><rect x="825.671875" y="1203.640625" rx="1px" ry="1px" width="77" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="834.671875" y="1220.080625"><tspan>Calico实现</tspan></tspan></text></g></g><g id="044330c6f0b9"><rect x="938.609375" y="615" rx="1px" ry="1px" width="698" height="390" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="947.609375" y="995.44"><tspan> </tspan></tspan></text></g><image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://cdn.processon.com/6260c530e4b0783fe8dc9d04?e=1650512704&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:l_TRxE1NxQv7SjecSzIhaDzdNWM=" transform="translate(947.609375, 616)" width="680" height="364"></image></g><g id="90a745ac235d"><rect x="938.609375" y="1015" rx="1px" ry="1px" width="142" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="947.609375" y="1031.44"><tspan>Q: 宿主机路由哪里来？</tspan></tspan></text></g></g><g id="2c8c3163d6b0"><rect x="1116.984375" y="1015.640625" rx="1px" ry="1px" width="48" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1125.984375" y="1032.080625"><tspan>BGP</tspan></tspan></text></g></g><g id="e18b88ce3a69"><rect x="938.609375" y="1051" rx="1px" ry="1px" width="154" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="947.609375" y="1067.44"><tspan>Q: 节点太多有什么弊端？</tspan></tspan></text></g></g><g id="f7cb4c827ebd"><rect x="1128.984375" y="1051.640625" rx="1px" ry="1px" width="413" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1137.984375" y="1068.080625"><tspan>每个宿主机都需要与其他宿主机进行BGP连接，连接数会已N^2的速度暴增</tspan></tspan></text></g></g><g id="1bec276ca8e3"><rect x="1577.84375" y="1052.28125" rx="1px" ry="1px" width="130" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1586.84375" y="1068.72125"><tspan>可以通过RR模式规避</tspan></tspan></text></g></g><g id="b24451fd2428"><rect x="938.609375" y="1439.640625" rx="1px" ry="1px" width="214" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="947.609375" y="1456.080625"><tspan>Q: 如果宿主机不在同一子网怎么办？</tspan></tspan></text></g></g><g id="4e8df0d6b02e"><rect x="1188.984375" y="1439.640625" rx="1px" ry="1px" width="75" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1197.984375" y="1456.080625"><tspan>走IPIP模式</tspan></tspan></text></g></g><g id="56ef52ed5947"><rect x="1300.09375" y="1087" rx="1px" ry="1px" width="643" height="414" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1309.09375" y="1491.44"><tspan> </tspan></tspan></text></g><image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://cdn.processon.com/6260cb05e4b047a04c99fd78?e=1650514198&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:yNAmOBzPivL3aC0T4zTfcHA8qtY=" transform="translate(1309.09375, 1088)" width="625" height="388"></image></g><g id="1add1b3b487d"><rect x="1300.09375" y="1511" rx="1px" ry="1px" width="392" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1309.09375" y="1527.44"><tspan>注意这时候的路由是到tunl0设备: 10.233.2.0/24 via 192.168.2.2 tunl0</tspan></tspan></text></g></g><g id="3418310f4f6a"><rect x="1300.09375" y="1595.140625" rx="1px" ry="1px" width="391" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1309.09375" y="1611.580625"><tspan>tunl0：IP 隧道设备，IPIP驱动会将IP包封装成宿主机的IP包，这样IP就</tspan></tspan><tspan x="1309.09375" y="1629.820625"><tspan>可以正常经过路由到达目标节点</tspan></tspan></text></g></g><g id="a229d8f201ff"><rect x="1726.9375" y="1547" rx="1px" ry="1px" width="265" height="140" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1735.9375" y="1677.44"><tspan> </tspan></tspan></text></g><image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://cdn.processon.com/6260ce45e4b0a16c5d964cec?e=1650515029&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:NCVLd3OxnHzOg7Z9GLdgOwpHqOg=" transform="translate(1735.9375, 1548)" width="247" height="114"></image></g><g id="256cf9b1722e"><rect x="1300.09375" y="1697" rx="1px" ry="1px" width="372" height="121" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1309.09375" y="1713.44"><tspan>当然IPIP方式，比三层路由方式，更消耗性能。而如果把路由器，</tspan></tspan><tspan x="1309.09375" y="1731.68"><tspan>也添加到BGP Peer的行列，让其添加去其他网段的路由当然也可以</tspan></tspan><tspan x="1309.09375" y="1749.92"><tspan>。但是实际场景，很少有企业让用户改路由网关的。另外Flnanel的</tspan></tspan><tspan x="1309.09375" y="1768.16"><tspan>Host-GW模式，与calico类似也是通过三层路由网卡进行跨主机通</tspan></tspan><tspan x="1309.09375" y="1786.4"><tspan>信，只不过是其路由发现不是通过BGP，而是flnaneld watch ETC</tspan></tspan><tspan x="1309.09375" y="1804.64"><tspan>D实现。</tspan></tspan></text></g></g><g id="063390afc0a8"><rect x="825.671875" y="2020.640625" rx="1px" ry="1px" width="139" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="834.671875" y="2037.080625"><tspan>Flannel Host-GW实现</tspan></tspan></text></g></g><g id="6585c842f7aa"><rect x="1000.40625" y="1828" rx="1px" ry="1px" width="604" height="339" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1009.40625" y="2157.4399999999996"><tspan> </tspan></tspan></text></g><image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://cdn.processon.com/6260cf43e4b03425969d8b41?e=1650515283&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:VdaL2FDzKbWaqmiRbiDGiBH7IFQ=" transform="translate(1009.40625, 1829)" width="586" height="313"></image></g><g id="b6378ec33684"><rect x="1000.40625" y="2177" rx="1px" ry="1px" width="193" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1009.40625" y="2193.4399999999996"><tspan>关键设备cni0 网桥 - 虚拟交换机</tspan></tspan></text></g></g><g id="620fad6757be"><rect x="1000.40625" y="2213" rx="1px" ry="1px" width="247" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1009.40625" y="2229.4399999999996"><tspan>关键路由: &lt;podIp&gt; via &lt;nodeIP&gt; dev eth0</tspan></tspan></text></g></g><g id="f57429d412ed"><rect x="1283.390625" y="2213.640625" rx="1px" ry="1px" width="138" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1292.390625" y="2230.0806249999996"><tspan>前提是二层网络是通的</tspan></tspan></text></g></g><g id="8186a783a433"><rect x="699.671875" y="2768.640625" rx="1px" ry="1px" width="108" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="708.671875" y="2785.0806249999996"><tspan>Overlay网络方案</tspan></tspan></text></g></g><g id="5d6ede97fca6"><rect x="843.1875" y="2249" rx="1px" ry="1px" width="570" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="852.1875" y="2265.4399999999996"><tspan>思路比较直观: 在已有的宿主机网络上，通过软件构建一个覆盖在已有宿主机网络之上的、可以把所有容</tspan></tspan><tspan x="852.1875" y="2283.6799999999994"><tspan>器连通在一起的虚拟网络</tspan></tspan></text></g></g><g id="8272736165b2"><rect x="843.1875" y="2599.640625" rx="1px" ry="1px" width="110" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="852.1875" y="2616.0806249999996"><tspan>Flannel UDP方案</tspan></tspan></text></g></g><g id="8113a1f9fbae"><rect x="989.28125" y="2304" rx="1px" ry="1px" width="652" height="327" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="998.28125" y="2621.4399999999996"><tspan> </tspan></tspan></text></g><image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://cdn.processon.com/6260f85ce4b0b3a1d3d28901?e=1650525805&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:YS4Y1djK0_63bqMRDRz6F8ucZyw=" transform="translate(998.28125, 2305)" width="634" height="301"></image></g><g id="aeccaade0af8"><rect x="989.28125" y="2641" rx="1px" ry="1px" width="317" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="998.28125" y="2657.4399999999996"><tspan>原理: 将数据包通过Tun设备交给应用程序(flanneld)来处</tspan></tspan><tspan x="998.28125" y="2675.6799999999994"><tspan>理，程序自身完成封包解包以及路由分发的任务</tspan></tspan></text></g></g><g id="60f310f33d18"><rect x="1342.28125" y="2641.140625" rx="1px" ry="1px" width="223" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1351.28125" y="2657.5806249999996"><tspan>副作用: 数据要在内核态和用户态来回</tspan></tspan><tspan x="1351.28125" y="2675.8206249999994"><tspan>切换，性能差</tspan></tspan></text></g></g><g id="776f77d2a6c5"><rect x="989.28125" y="2705.640625" rx="1px" ry="1px" width="162" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="998.28125" y="2722.0806249999996"><tspan>Q: Flannel0 是什么设备？</tspan></tspan></text></g></g><g id="2b2d3a4bf7dd"><rect x="1187.28125" y="2696" rx="1px" ry="1px" width="413" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1196.28125" y="2712.4399999999996"><tspan>关键设备 flannel0 是 Tun设备，在操作系统内核和用户应用程序之间传递 I</tspan></tspan><tspan x="1196.28125" y="2730.6799999999994"><tspan>P 包。</tspan></tspan></text></g></g><g id="1383dc4b762b"><rect x="989.28125" y="2823.640625" rx="1px" ry="1px" width="213" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="998.28125" y="2840.0806249999996"><tspan>Q: Flanneld如何知道各节点的路由？</tspan></tspan></text></g></g><g id="0fe3ae5e3860"><rect x="1238.03125" y="2751" rx="1px" ry="1px" width="389" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1247.03125" y="2767.4399999999996"><tspan>由Flannel管理的网络，一台宿主机上的所有容器都属于该宿主机分配</tspan></tspan><tspan x="1247.03125" y="2785.6799999999994"><tspan>的一个子网，而子网与宿主机之间的关系会保存在ETCD里</tspan></tspan></text></g></g><g id="919024c6f499"><rect x="1238.03125" y="2850.640625" rx="1px" ry="1px" width="150" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1247.03125" y="2867.0806249999996"><tspan>每台宿主机上的路由类似</tspan></tspan></text></g></g><g id="e2b91d91654e"><rect x="1424.03125" y="2806" rx="1px" ry="1px" width="318" height="115" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1433.03125" y="2911.4399999999996"><tspan> </tspan></tspan></text></g><image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://cdn.processon.com/626119c2e4b0a8490f257213?e=1650534355&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:SE9bQMKKKEGDd3WDOg76h4hhbKA=" transform="translate(1433.03125, 2807)" width="300" height="89"></image></g><g id="b1764c263295"><rect x="843.1875" y="3109.640625" rx="1px" ry="1px" width="121" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="852.1875" y="3126.0806249999996"><tspan>Flannel VXLan方案</tspan></tspan></text></g></g><g id="1b7c47096bda"><rect x="1000.328125" y="2931" rx="1px" ry="1px" width="557" height="310" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1009.328125" y="3231.4399999999996"><tspan> </tspan></tspan></text></g><image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://cdn.processon.com/6260f921e4b0191f733de403?e=1650526001&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:lpmDQZDEksWON5KkpKUkIS89-F0=" transform="translate(1009.328125, 2932)" width="539" height="284"></image></g><g id="b712e37aabff"><rect x="1000.328125" y="3251" rx="1px" ry="1px" width="349" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1009.328125" y="3267.4399999999996"><tspan>原理: 借助内核技术VXLan，在内核态就完成数据的封装与解封</tspan></tspan></text></g></g><g id="6e84a49bcaf0"><rect x="1385.28125" y="3251.640625" rx="1px" ry="1px" width="279" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(56, 142, 60)" style="font-size:12px;font-family:微软雅黑;color:#388E3C;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1394.28125" y="3268.0806249999996"><tspan>Q：什么是VXLan？VXLan的封包过程是怎样的？</tspan></tspan></text></g></g><g id="b42345236669"><rect x="1700.0625" y="3252.28125" rx="1px" ry="1px" width="74" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1709.0625" y="3268.7212499999996"><tspan>参考: </tspan></tspan></text></g><a href="https://support.huawei.com/enterprise/zh/doc/EDOC1100087027#ZH-CN_TOPIC_0254803605" target="_blank" style="cursor:pointer;"><rect x="1745.234375" y="3256.6875" width="20" height="17" style="fill: transparent;"></rect><path d="M616.601336 477.134935c0-96.148827-76.528977-174.34477-170.628122-174.34477l-138.339742 0.027629c-98.788957 0.007163-179.177845 78.195943-179.177845 174.330444l0.017396 69.698408c-0.024559 96.15292 80.406285 174.359097 179.205475 174.359097l38.696324 0.00307c19.815301-0.024559 35.851533-15.624862 35.848463-34.882462 0.00307-19.250436-16.032138-34.853809-35.823903-34.853809l-38.749536 0c-59.268872-0.007163-109.451808-46.925752-109.465111-104.604406l0-69.733201c0-57.668421 50.154283-104.58394 109.462041-104.594173l138.329509-0.024559c56.472176 0.024559 100.867292 46.911426 100.890828 104.618732l1.496074 34.872229c0 9.627265 3.810792 18.365276 9.969049 24.65554 6.178723 6.310729 14.728446 10.209526 24.153096 10.206456 18.84623 0.00307 34.118052-15.600303 34.118052-34.860972L616.601336 477.134935zM895.526977 477.152331c0.024559-96.148827-80.406285-174.355003-179.205475-174.359097l-38.696324-0.00307c-19.815301 0.024559-35.851533 15.627932-35.851533 34.882462 0 19.254529 16.036231 34.853809 35.826973 34.857902l38.745443 0c59.268872 0.00307 109.451808 46.922682 109.469204 104.604406l0 69.733201c0 57.668421-50.154283 104.58394-109.462041 104.591103l-138.329509 0.027629c-56.472176-0.024559-100.867292-46.911426-100.890828-104.618732l-1.496074-34.872229c0-9.630335-3.810792-18.365276-9.969049-24.65554-6.181793-6.314823-14.728446-10.209526-24.153096-10.205433-18.84623-0.007163-34.119075 15.600303-34.119075 34.860972l0 34.872229c0 96.145757 76.532047 174.340677 170.631192 174.340677l138.339742-0.024559c98.788957-0.007163 179.177845-78.199013 179.173752-174.330444L895.526977 477.152331z" fill="#0072fc" transform="translate(1745.234375, 3256.6875) scale(0.017578125)"></path></a></g><g id="b6d0542b9655"><rect x="1000.328125" y="3287" rx="1px" ry="1px" width="367" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1009.328125" y="3303.4399999999996"><tspan>关键设备flannel.1: VTEP (VXLan Tunnel Endpoint) 虚拟隧道端点</tspan></tspan></text></g></g><g id="b0d629516b24"><rect x="308" y="242.140625" rx="5px" ry="5px" width="189" height="39" style="fill: #2B76EF; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="14px" font-weight="normal" fill="rgb(255, 255, 255)" style="font-size:14px;font-family:微软雅黑;color:#ffffff;font-style:normal;text-align:left;font-weight:normal;"><tspan x="345.09375" y="267.83125"><tspan>容器与容器之间的通信</tspan></tspan></text></g><g><path d="M512.036126 4.262904c-280.448474 0-507.75516 227.342812-507.75516 507.773223 0 280.412348 227.306685 507.75516 507.75516 507.75516 280.430411 0 507.737096-227.342812 507.737096-507.75516C1019.773223 231.623778 792.466537 4.262904 512.036126 4.262904zM654.608573 756.520868 360.630799 756.520868l0-11.650732c1.896631-29.099735 15.498183-55.309367 40.750467-78.592768 25.216158-23.283401 57.224061-59.680649 96.059834-109.155618 38.781584-49.493032 64.015805-87.786911 75.666537-114.990016 11.650732-27.148915 16.022014-50.432316 13.113847-69.850203-2.908167-19.38176-12.1565-35.385712-27.654683-48.029917-15.552373-12.590016-33.489081-17.918645-53.846252-16.003951-20.375234 1.95082-39.79312 9.736038-58.217534 23.283401-18.46054 13.601552-32.513671 33.976786-42.213583 61.125701l-55.309367-8.724502c15.498183-44.615982 35.385712-77.147716 59.680649-97.504886 24.240748-20.375234 52.852778-31.520198 85.872217-33.471018 19.363697-1.914694 36.830764-1.463115 52.383136 1.463115 15.498183 2.908167 31.520198 9.736038 48.029917 20.375234 16.45553 10.693385 30.057082 26.697336 40.750467 48.029917 10.639196 21.38677 14.558899 47.07257 11.650732 77.147716-2.908167 30.111272-17.972835 65.984689-45.12175 107.692503-27.203105 41.762004-79.586241 107.240924-157.185535 196.454824L654.608573 704.119668 654.608573 756.520868z" fill="rgb(255, 102, 0)" transform="translate(320, 246.140625) scale(0.01953125)"></path></g></g><g id="5ba77b6d511e"><rect x="533.09375" y="230.640625" rx="1px" ry="1px" width="124" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="542.09375" y="247.080625"><tspan>同Pod内的容器通信</tspan></tspan></text></g></g><g id="2dabd414925a"><rect x="692.875" y="184" rx="1px" ry="1px" width="356" height="64" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="701.875" y="200.44"><tspan>关键技术 Network Namespace，它是Linux实现网络虚拟化的</tspan></tspan><tspan x="701.875" y="218.68"><tspan>内核基础，通过Network Namespace我们可以创建独立的网络</tspan></tspan><tspan x="701.875" y="236.92000000000002"><tspan>空间</tspan></tspan></text></g></g><g id="a980952b5210"><rect x="1084.875" y="184.640625" rx="1px" ry="1px" width="317" height="64" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1093.875" y="201.080625"><tspan>一个独立的网络空间包含: 独立的网络设备(网卡、Loopb</tspan></tspan><tspan x="1093.875" y="219.320625"><tspan>ack、Veth Pair)、独立的协议栈、IP地址和路由表、ipta</tspan></tspan><tspan x="1093.875" y="237.56062500000002"><tspan>bles等</tspan></tspan></text></g></g><g id="8faa3680e6fb"><rect x="692.875" y="258" rx="1px" ry="1px" width="347" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="701.875" y="274.44"><tspan>而同Pod内的容器共享网络空间，所以他们彼此就可以直接通</tspan></tspan><tspan x="701.875" y="292.68"><tspan>信</tspan></tspan></text></g></g><g id="c68bc480b442"><rect x="1075.875" y="258.140625" rx="1px" ry="1px" width="320" height="45" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="1084.875" y="274.580625"><tspan>Kubernetes实现上，会在每个Pod启动之前通过Pause容</tspan></tspan><tspan x="1084.875" y="292.820625"><tspan>器专门来设置网络空间，然后再把其他容器加进来</tspan></tspan></text></g></g><g id="80c19914f1e3"><rect x="533.09375" y="313" rx="1px" ry="1px" width="136" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="542.09375" y="329.44"><tspan>不同Pod内的容器通信</tspan></tspan></text></g></g><g id="d985ab765f06"><rect x="704.875" y="313.640625" rx="1px" ry="1px" width="170" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="713.875" y="330.080625"><tspan>等同于Pod与Pod之间的通信</tspan></tspan></text></g></g><g id="32ab6a28625f"><rect x="308" y="78.140625" rx="5px" ry="5px" width="133" height="39" style="fill: #2B76EF; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="14px" font-weight="normal" fill="rgb(255, 255, 255)" style="font-size:14px;font-family:微软雅黑;color:#ffffff;font-style:normal;text-align:left;font-weight:normal;"><tspan x="345.09375" y="103.83125000000001"><tspan>四大通信场景</tspan></tspan></text></g><g><path d="M508.295791 3.713113C227.559513 3.713113 0 231.27262601 0 512s227.568417 508.286887 508.295791 508.286887c280.71847001 0 508.286887-227.568417 508.28688699-508.286887S789.014261 3.713113 508.295791 3.713113zM564.57126999 785.114157l-66.52438299 0L498.046887 361.22267799c-16.01892199 15.279861-37.02427801 30.550817-63.01607 45.82177401-25.991791 15.279861-49.338991 26.730852-70.032696 34.370783l0-64.3072c37.202365-17.488139 69.721043-38.680487 97.564939-63.568139 27.834991-24.878748 47.549217-49.027339 59.13377399-72.43686999l42.86553001-2e-8L564.562365 785.114157z" fill="rgb(255, 0, 0)" transform="translate(320, 82.140625) scale(0.01953125)"></path></g></g><g id="fbd1b776917c"><rect x="477.09375" y="30" rx="1px" ry="1px" width="155" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="486.09375" y="46.44"><tspan>1、容器与容器之间的通信</tspan></tspan></text></g></g><g id="82a1f93a9e77"><rect x="477.09375" y="66" rx="1px" ry="1px" width="153" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="486.09375" y="82.44"><tspan>2、Pod与Pod之间的通信</tspan></tspan></text></g></g><g id="f578d71a06b3"><rect x="477.09375" y="102" rx="1px" ry="1px" width="172" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="486.09375" y="118.44"><tspan>3、Service与Pod之间的通信</tspan></tspan></text></g></g><g id="73df836f9e31"><rect x="477.09375" y="138" rx="1px" ry="1px" width="174" height="26" style="fill: transparent; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="12px" font-weight="normal" fill="rgb(43, 118, 239)" style="font-size:12px;font-family:微软雅黑;color:#2B76EF;font-style:normal;text-align:left;font-weight:normal;"><tspan x="486.09375" y="154.44"><tspan>4、外部与Service之间的通信</tspan></tspan></text></g></g><g transform="translate(308, 3752)" id="sdjakdjak0"><g id="subline_e1137d9d712d" transform="translate(0.5,-1.5)"><path id="line_636105f3f5c8" d="M 80 68 L 98 68 L 98 17 A 4 4 0 0 1 102 13 L 116 13" p="e1137d9d712d" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_e7750890327a" d="M 80 68 L 98 68 L 98 53 A 4 4 0 0 1 102 49 L 116 49" p="e1137d9d712d" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_5aa2302b3f32" d="M 80 68 L 98 68 L 98 81 A 4 4 0 0 0 102 85 L 116 85" p="e1137d9d712d" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_0ae4993cec98" d="M 80 68 L 98 68 L 98 117 A 4 4 0 0 0 102 121 L 116 121" p="e1137d9d712d" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path></g><g transform="translate(0.5,-0.5)"></g><g class="svg-summary-con" transform="translate(0.5,-0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,-0.5)"></g></g><g transform="translate(308, 3333)" id="sdjakdjak1"><g id="subline_5ff6c678664c" transform="translate(0.5,-1.5)"><path id="line_e0d9fe15c6eb" d="M 206 97.5 L 224 97.5 L 224 73 A 4 4 0 0 1 228 69 L 241.984375 69" p="5ff6c678664c" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_bac4fb4d549c" d="M 528.984375 69 L 547 69 L 547 69 L 564.984375 69" p="e0d9fe15c6eb" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_84c28f4358f6" d="M 786.984375 69 L 805 69 L 805 17 A 4 4 0 0 1 809 13 L 822.78125 13" p="bac4fb4d549c" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_92d54d4780da" d="M 978.78125 13 L 997 13 L 997 13 L 1015.109375 13" p="84c28f4358f6" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_5f2f91daaa04" d="M 786.984375 69 L 805 69 L 805 83 A 4 4 0 0 0 809 87 L 822.78125 87" p="bac4fb4d549c" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_48bc1e1ab9ef" d="M 206 97.5 L 224 97.5 L 224 166 A 4 4 0 0 0 228 170 L 241.984375 170" p="5ff6c678664c" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path></g><g transform="translate(0.5,-0.5)"></g><g class="svg-summary-con" transform="translate(0.5,-0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,-0.5)"></g></g><g transform="translate(308, 3546)" id="sdjakdjak2"><g id="subline_44ab9a62274e" transform="translate(0.5,-1.5)"><path id="line_a79a5f34de2e" d="M 209 20.5 L 227 20.5 L 227 20.5 L 244.59375 20.5" p="44ab9a62274e" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path></g><g transform="translate(0.5,-0.5)"></g><g class="svg-summary-con" transform="translate(0.5,-0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,-0.5)"></g></g><g transform="translate(308, 3605)" id="sdjakdjak3"><g id="subline_33e0583e8df4" transform="translate(0.5,-1.5)"><path id="line_8de6f2bd0995" d="M 151 23.5 L 169 23.5 L 169 23.5 L 186.6875 23.5" p="33e0583e8df4" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path></g><g transform="translate(0.5,-0.5)"></g><g class="svg-summary-con" transform="translate(0.5,-0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,-0.5)"></g></g><g transform="translate(308, 3670)" id="sdjakdjak4"><g id="subline_a22fc8f2c6e8" transform="translate(0.5,-1.5)"><path id="line_55e8cbf03ffa" d="M 257 32 L 275 32 L 275 17 A 4 4 0 0 1 279 13 L 293.0938165838068 13" p="a22fc8f2c6e8" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_fa5b5f437456" d="M 532.0938165838068 13 L 551 13 L 551 13 L 567.9062721946023 13" p="55e8cbf03ffa" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_59e02fe46509" d="M 257 32 L 275 32 L 275 44 A 4 4 0 0 0 279 48 L 293.0938165838068 48" p="a22fc8f2c6e8" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_17a1c1e8678a" d="M 423.0938165838068 48 L 442 48 L 442 48 L 459.46877219460225 48" p="59e02fe46509" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path></g><g transform="translate(0.5,-0.5)"></g><g class="svg-summary-con" transform="translate(0.5,-0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,-0.5)"></g></g><g transform="translate(308, 359)" id="sdjakdjak5"><g id="subline_50d958360c52" transform="translate(0.5,-1.5)"><path id="line_8272c132c6fd" d="M 184 1478 L 202 1478 L 202 91 A 4 4 0 0 1 206 87 L 219.890625 87" p="50d958360c52" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_964e64f8d020" d="M 343.890625 87 L 362 87 L 362 17 A 4 4 0 0 1 366 13 L 379.671875 13" p="8272c132c6fd" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_5b7450d45c37" d="M 637.671875 13 L 656 13 L 656 13 L 673.6875 13" p="964e64f8d020" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_1f06ecfc23a1" d="M 343.890625 87 L 362 87 L 362 101 A 4 4 0 0 0 366 105 L 379.671875 105" p="8272c132c6fd" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_3d7fad7111b0" d="M 709.671875 105 L 728 105 L 728 72 A 4 4 0 0 1 732 68 L 745.6875 68" p="1f06ecfc23a1" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_f54b74f6afbf" d="M 811.6875 68 L 830 68 L 830 68 L 847.6875 68" p="3d7fad7111b0" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_cebaf3d98960" d="M 709.671875 105 L 728 105 L 728 138 A 4 4 0 0 0 732 142 L 745.6875 142" p="1f06ecfc23a1" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_35db6aadf687" d="M 811.6875 142 L 830 142 L 830 142 L 847.6875 142" p="cebaf3d98960" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_e60bb9043dcf" d="M 184 1478 L 202 1478 L 202 1565 A 4 4 0 0 0 206 1569 L 219.890625 1569" p="50d958360c52" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_4b845dc7ab5d" d="M 355.890625 1569 L 374 1569 L 374 201 A 4 4 0 0 1 378 197 L 391.671875 197" p="e60bb9043dcf" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_a472468f5f62" d="M 485.671875 197 L 504 197 L 504 197 L 522.046875 197" p="4b845dc7ab5d" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_4b12598098af" d="M 355.890625 1569 L 374 1569 L 374 1054 A 4 4 0 0 1 378 1050 L 391.671875 1050" p="e60bb9043dcf" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_552d735b7afe" d="M 481.671875 1050 L 500 1050 L 500 237 A 4 4 0 0 1 504 233 L 517.671875 233" p="4b12598098af" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_e577dc7d68b0" d="M 481.671875 1050 L 500 1050 L 500 861 A 4 4 0 0 1 504 857 L 517.671875 857" p="4b12598098af" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_044330c6f0b9" d="M 594.671875 857 L 613 857 L 613 455 A 4 4 0 0 1 617 451 L 630.609375 451" p="e577dc7d68b0" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_90a745ac235d" d="M 594.671875 857 L 613 857 L 613 673 A 4 4 0 0 1 617 669 L 630.609375 669" p="e577dc7d68b0" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_2c8c3163d6b0" d="M 772.609375 669 L 791 669 L 791 669 L 808.984375 669" p="90a745ac235d" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_e18b88ce3a69" d="M 594.671875 857 L 613 857 L 613 709 A 4 4 0 0 1 617 705 L 630.609375 705" p="e577dc7d68b0" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_f7cb4c827ebd" d="M 784.609375 705 L 803 705 L 803 705 L 820.984375 705" p="e18b88ce3a69" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_1bec276ca8e3" d="M 1233.984375 705 L 1252 705 L 1252 705 L 1269.84375 705" p="f7cb4c827ebd" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_b24451fd2428" d="M 594.671875 857 L 613 857 L 613 1089 A 4 4 0 0 0 617 1093 L 630.609375 1093" p="e577dc7d68b0" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_4e8df0d6b02e" d="M 844.609375 1093 L 863 1093 L 863 1093 L 880.984375 1093" p="b24451fd2428" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_56ef52ed5947" d="M 955.984375 1093 L 974 1093 L 974 939 A 4 4 0 0 1 978 935 L 992.09375 935" p="4e8df0d6b02e" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_1add1b3b487d" d="M 955.984375 1093 L 974 1093 L 974 1161 A 4 4 0 0 0 978 1165 L 992.09375 1165" p="4e8df0d6b02e" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_3418310f4f6a" d="M 955.984375 1093 L 974 1093 L 974 1254 A 4 4 0 0 0 978 1258 L 992.09375 1258" p="4e8df0d6b02e" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_a229d8f201ff" d="M 1383.09375 1258 L 1402 1258 L 1402 1258 L 1418.9375 1258" p="3418310f4f6a" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_256cf9b1722e" d="M 955.984375 1093 L 974 1093 L 974 1394 A 4 4 0 0 0 978 1398 L 992.09375 1398" p="4e8df0d6b02e" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_063390afc0a8" d="M 481.671875 1050 L 500 1050 L 500 1670 A 4 4 0 0 0 504 1674 L 517.671875 1674" p="4b12598098af" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_6585c842f7aa" d="M 656.671875 1674 L 675 1674 L 675 1642 A 4 4 0 0 1 679 1638 L 692.40625 1638" p="063390afc0a8" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_b6378ec33684" d="M 656.671875 1674 L 675 1674 L 675 1827 A 4 4 0 0 0 679 1831 L 692.40625 1831" p="063390afc0a8" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_620fad6757be" d="M 656.671875 1674 L 675 1674 L 675 1863 A 4 4 0 0 0 679 1867 L 692.40625 1867" p="063390afc0a8" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_f57429d412ed" d="M 939.40625 1867 L 958 1867 L 958 1867 L 975.390625 1867" p="620fad6757be" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_8186a783a433" d="M 355.890625 1569 L 374 1569 L 374 2418 A 4 4 0 0 0 378 2422 L 391.671875 2422" p="e60bb9043dcf" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_5d6ede97fca6" d="M 499.671875 2422 L 518 2422 L 518 1916 A 4 4 0 0 1 522 1912 L 535.1875 1912" p="8186a783a433" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_8272736165b2" d="M 499.671875 2422 L 518 2422 L 518 2257 A 4 4 0 0 1 522 2253 L 535.1875 2253" p="8186a783a433" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_8113a1f9fbae" d="M 645.1875 2253 L 664 2253 L 664 2112 A 4 4 0 0 1 668 2108 L 681.28125 2108" p="8272736165b2" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_aeccaade0af8" d="M 645.1875 2253 L 664 2253 L 664 2300 A 4 4 0 0 0 668 2304 L 681.28125 2304" p="8272736165b2" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_60f310f33d18" d="M 998.28125 2304 L 1017 2304 L 1017 2304 L 1034.28125 2304" p="aeccaade0af8" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_776f77d2a6c5" d="M 645.1875 2253 L 664 2253 L 664 2355 A 4 4 0 0 0 668 2359 L 681.28125 2359" p="8272736165b2" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_2b2d3a4bf7dd" d="M 843.28125 2359 L 862 2359 L 862 2359 L 879.28125 2359" p="776f77d2a6c5" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_1383dc4b762b" d="M 645.1875 2253 L 664 2253 L 664 2473 A 4 4 0 0 0 668 2477 L 681.28125 2477" p="8272736165b2" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_0fe3ae5e3860" d="M 894.28125 2477 L 913 2477 L 913 2418 A 4 4 0 0 1 917 2414 L 930.03125 2414" p="1383dc4b762b" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_919024c6f499" d="M 894.28125 2477 L 913 2477 L 913 2500 A 4 4 0 0 0 917 2504 L 930.03125 2504" p="1383dc4b762b" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_e2b91d91654e" d="M 1080.03125 2504 L 1099 2504 L 1099 2504 L 1116.03125 2504" p="919024c6f499" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_b1764c263295" d="M 499.671875 2422 L 518 2422 L 518 2759 A 4 4 0 0 0 522 2763 L 535.1875 2763" p="8186a783a433" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_1b7c47096bda" d="M 656.1875 2763 L 675 2763 L 675 2731 A 4 4 0 0 1 679 2727 L 692.328125 2727" p="b1764c263295" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_b712e37aabff" d="M 656.1875 2763 L 675 2763 L 675 2901 A 4 4 0 0 0 679 2905 L 692.328125 2905" p="b1764c263295" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_6e84a49bcaf0" d="M 1041.328125 2905 L 1060 2905 L 1060 2905 L 1077.28125 2905" p="b712e37aabff" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_b42345236669" d="M 1356.28125 2905 L 1375 2905 L 1375 2905 L 1392.0625 2905" p="6e84a49bcaf0" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_b6d0542b9655" d="M 656.1875 2763 L 675 2763 L 675 2937 A 4 4 0 0 0 679 2941 L 692.328125 2941" p="b1764c263295" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path></g><g transform="translate(0.5,-0.5)"></g><g class="svg-summary-con" transform="translate(0.5,-0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,-0.5)"></g></g><g transform="translate(308, 184)" id="sdjakdjak6"><g id="subline_b0d629516b24" transform="translate(0.5,-1.5)"><path id="line_5ba77b6d511e" d="M 189 78.5 L 207 78.5 L 207 63 A 4 4 0 0 1 211 59 L 225.09375 59" p="b0d629516b24" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_2dabd414925a" d="M 349.09375 59 L 368 59 L 368 36 A 4 4 0 0 1 372 32 L 384.875 32" p="5ba77b6d511e" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_a980952b5210" d="M 740.875 32 L 759 32 L 759 32 L 776.875 32" p="2dabd414925a" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_8faa3680e6fb" d="M 349.09375 59 L 368 59 L 368 92 A 4 4 0 0 0 372 96 L 384.875 96" p="5ba77b6d511e" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_c68bc480b442" d="M 731.875 96 L 750 96 L 750 96 L 767.875 96" p="8faa3680e6fb" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_80c19914f1e3" d="M 189 78.5 L 207 78.5 L 207 138 A 4 4 0 0 0 211 142 L 225.09375 142" p="b0d629516b24" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_d985ab765f06" d="M 361.09375 142 L 380 142 L 380 142 L 396.875 142" p="80c19914f1e3" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path></g><g transform="translate(0.5,-0.5)"></g><g class="svg-summary-con" transform="translate(0.5,-0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,-0.5)"></g></g><g transform="translate(308, 30)" id="sdjakdjak7"><g id="subline_32ab6a28625f" transform="translate(0.5,-1.5)"><path id="line_fbd1b776917c" d="M 133 68 L 151 68 L 151 17 A 4 4 0 0 1 155 13 L 169.09375 13" p="32ab6a28625f" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_82a1f93a9e77" d="M 133 68 L 151 68 L 151 53 A 4 4 0 0 1 155 49 L 169.09375 49" p="32ab6a28625f" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_f578d71a06b3" d="M 133 68 L 151 68 L 151 81 A 4 4 0 0 0 155 85 L 169.09375 85" p="32ab6a28625f" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path><path id="line_73df836f9e31" d="M 133 68 L 151 68 L 151 117 A 4 4 0 0 0 155 121 L 169.09375 121" p="32ab6a28625f" stroke="#EDB951" fill="none" stroke-linecap="square" stroke-width="2"></path></g><g transform="translate(0.5,-0.5)"></g><g class="svg-summary-con" transform="translate(0.5,-0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,-0.5)"></g></g><g transform="translate(30, 1930.5)" id="sdjakdjak8"><g id="subline_root" transform="translate(0.5,-1.5)"></g><g transform="translate(0.5,-0.5)"></g><g class="svg-summary-con" transform="translate(0.5,-0.5)"></g><g class="svg-boundary-con" transform="translate(0.5,-0.5)"></g></g><g id="root"><rect x="30" y="1930.5" rx="5px" ry="5px" width="218" height="55" style="fill: #E25A40; stroke:none;"></rect><g><text text-anchor="start" align="top" anchor="start" font-size="20px" font-weight="normal" fill="rgb(242, 242, 242)" style="font-size:20px;font-family:微软雅黑;color:#F2F2F2;font-style:normal;text-align:left;font-weight:normal;"><tspan x="46" y="1965.5"><tspan>聊聊Kubernetes网络</tspan></tspan></text></g></g></svg>